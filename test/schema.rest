POST http://localhost:3000/api/schema
content-type : application/json

{
  "name" : "ElephantSeals",
  "columns" : [{"name":"size","type":"text"},{"name":"sex","type":"text"}]
}
### Adds a table

POST http://localhost:3000/api/schema
content-type : application/json

{
  "name" : "Puffins",
  "columns" : [{"name":"species","type":"text"},{"name":"age","type":"text"}]
}

### Adds a table

PUT http://localhost:3000/api/schema/7e637ce9-68cb-4dec-a7b1-81bb5fe13b6e
content-type : application/json

{
  "id": "7e637ce9-68cb-4dec-a7b1-81bb5fe13b6e",
  "name" : "ElephantSeals",
  "columns" : [{"id":"16308ebf-68bb-4319-9ca8-0611b143330d","name":"size","type":"text"},{"name":"gender","type":"text"}]
}
### Update Column

PUT http://localhost:3000/api/schema/b14f8abd-fc0e-4eb0-97bd-c57e65690c00
content-type : application/json

{
  "id": "b14f8abd-fc0e-4eb0-97bd-c57e65690c00",
  "name" : "BigSeals",
  "columns" : [{"id":"fd3fb92d-0e9b-4f55-8633-42a74d0ee228", "name":"size","type":"text"}, {"id":"6840d4bc-10b8-4d37-9847-321dd7fac071","name":"gender","type":"text"}]
}
### Rename Table

PUT http://localhost:3000/api/schema/b14f8abd-fc0e-4eb0-97bd-c57e65690c00
content-type : application/json

{
  "id": "b14f8abd-fc0e-4eb0-97bd-c57e65690c00",
  "name" : "ElephantSeals",
  "columns" : [{"id":"fd3fb92d-0e9b-4f55-8633-42a74d0ee228", "name":"size","type":"text"}]
}
### Drop a column

PUT http://localhost:3000/api/schema/f8ef4e7f-6596-4d2f-a488-9a3c092f58cb
content-type : application/json

{
  "id": "f8ef4e7f-6596-4d2f-a488-9a3c092f58cb",
  "name" : "ElephantSeals",
  "columns" : [{"id":"b64ab088-911b-4461-836b-4747aedf5988", "name":"size","type":"text"}, {"name":"gender","type":"text"}]
}
### Add a column


PUT http://localhost:3000/api/schema/b14f8abd-fc0e-4eb0-97bd-c57e65690c00
content-type : application/json

{
  "id": "b14f8abd-fc0e-4eb0-97bd-c57e65690c00",
  "name" : "ElephantSeals",
  "columns" : [{"id":"fd3fb92d-0e9b-4f55-8633-42a74d0ee228", "name":"size","type":"text"}, {"id":"6840d4bc-10b8-4d37-9847-321dd7fac071","name":"gender","type":"text"}]
}
### Rename a column


PUT http://localhost:3000/api/schema/b14f8abd-fc0e-4eb0-97bd-c57e65690c00
content-type : application/json

{
  "id": "b14f8abd-fc0e-4eb0-97bd-c57e65690c00",
  "name" : "ArcticSeals",
  "columns" : [{"id":"fd3fb92d-0e9b-4f55-8633-42a74d0ee228", "name":"Bigness","type":"text"}, {"name":"favFood","type":"text"}]
}
### Rename table, rename column, add Column, Delete Column





### GET all rows in the tablemeta table
GET http://localhost:3000/api/schema
###

### SCHEMA MIGRATION VALIDATION TESTING
### Create Table
POST http://localhost:3000/api/schema
content-type : application/json

{
  "name": "Octopus",
  "columns": [{"name":"size", "type":"text"}, {"name":"favFood", "type":"text"}, {"name":"favColor", "type":"text"}],
  "getAllRule": "user",
  "deleteRule": "admin"
}
### Drop Table
DELETE http://localhost:3000/api/schema/61d53b67-b47d-41af-800d-26e45af4c135
###

PUT http://localhost:3000/api/schema/fbe7f769-ceed-4dd7-a2fe-c27df65a2c57
content-type : application/json

{
  "id": "fbe7f769-ceed-4dd7-a2fe-c27df65a2c57",
  "name": "ElephantSeals",
  "columns": [
    {
      "id": "e3b22347-699e-40dd-ae76-5849e77e3c55",
      "name": "Bigness",
      "type": "text",
      "options": {}
    },
    {
      "id": "9d622db1-9670-4651-8962-654907dce9e6",
      "name": "favFood",
      "type": "text",
      "options": {}
    },
    {
      "id": "240e6677-6726-4440-9709-6c7f011ebb38",
      "name": "favColor",
      "type": "text",
      "options": {}
    },
      {
      "name": "hometown",
      "type": "text",
      "options": {}
    }

  ],
  "getAllRule": "user",
  "getOneRule": "public",
  "createRule": "public",
  "deleteRule": "admin",
  "updateRule": "public"
}

### Should fail